<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>Document</title>
    <style>
        * {
            caret-color: transparent;
        }
    </style>
</head>

<body>
    <div id="i1" class="flex justify-center gap-2 mx-80 mt-24">
        <input maxlength="1" id="i1a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i1b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i1c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i1d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i1e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <div id="i2" class="flex justify-center gap-2 mx-80 mt-4">
        <input maxlength="1" id="i2a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i2b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i2c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i2d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i2e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <div id="i3" class="flex justify-center gap-2 mx-80 mt-4">
        <input maxlength="1" id="i3a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i3b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i3c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i3d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i3e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <div id="i4" class="flex justify-center gap-2 mx-80 mt-4">
        <input maxlength="1" id="i4a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i4b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i4c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i4d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i4e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <div id="i5" class="flex justify-center gap-2 mx-80 mt-4">
        <input maxlength="1" id="i5a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i5b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i5c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i5d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i5e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <div id="i6" class="flex justify-center gap-2 mx-80 mt-4">
        <input maxlength="1" id="i6a" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i6b" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i6c" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i6d" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
        <input maxlength="1" id="i6e" type="text"
            class="border-solid border-4 rounded-xl h-16 w-16 text-4xl text-center font-bold" />
    </div>

    <script>
        function getRandomWord() {
            const words = new Set(["ARRAY", "AVION", "BALON", "ACTOR", "BRAZO", "CRUDO", "ERROR", "FERIA", "GRITO", "HIELO", "ISLAS",
                "JULIO", "MONTE", "NECIO", "MARCO", "ONDAS", "PELOS", "PODER", "RELOJ", "RUBIO", "REDES", "SUCIO", "SERIO", "SELVA",
                "TABLA", "TORSO", "TORPE", ""]);
            const randomIndex = Math.floor(Math.random() * words.size);
            return Array.from(words)[randomIndex];
        }

        function validateAndApplyClasses(inputs) {
            inputs.forEach((input, index) => {
                var value = input.value;

                if (value.length === 1) {
                    if (value.toUpperCase() === targetWord.charAt(index)) {
                        input.classList.remove('bg-red-500');
                        input.classList.add('bg-green-500');
                    } else {
                        input.classList.remove('bg-green-500');
                        input.classList.add('bg-red-500');
                    }
                }
            });
        }

        function isSectionFilled(inputs) {
            return Array.from(inputs).every(input => input.value.length === 1);
        }

        function isSectionWon(inputs) {
            return Array.from(inputs).every((input, index) => input.value.toUpperCase() === targetWord.charAt(index));
        }

        function moveToNextSection(inputs, nextSectionInputs) {
            if (inputs && isSectionWon(inputs)) {
                alert("Â¡ENHORABUENA!");
                document.querySelectorAll('input').forEach(input => input.disabled = true);
            } else if (nextSectionInputs) {
                nextSectionInputs[0].focus();
            } else {
                alert("HAS PERDIDO :( PALABRA: " + targetWord);
                document.querySelectorAll('input').forEach(input => input.disabled = true);
            }
        }

        function setupSection(inputs, nextSectionInputs) {
            inputs.forEach(function (input, index) {
                input.addEventListener('input', function (event) {
                    var inputValue = this.value;
                    this.value = inputValue.toUpperCase();

                    if (index < inputs.length - 1 && inputValue.length === 1) {
                        inputs[index + 1].focus();
                    }
                });

                input.addEventListener('keydown', function (event) {
                    if (event.key === 'Backspace' && index > 0) {
                        if (this.value.length === 0) {
                            inputs[index - 1].value = '';
                            inputs[index - 1].focus();
                        } else {
                            inputs[index].value = '';
                        }
                    } else if (event.key === 'Enter') {
                        if (!isSectionFilled(inputs)) {
                            alert("Rellena todos los campos.");
                            return;
                        }

                        validateAndApplyClasses(inputs);
                        moveToNextSection(inputs, nextSectionInputs);
                    }
                });
            });
        }

        // Obtener palabra aleatoria
        var targetWord = getRandomWord();

        // Configurar secciones
        setupSection(document.querySelectorAll('#i1 input'), document.querySelectorAll('#i2 input'));
        setupSection(document.querySelectorAll('#i2 input'), document.querySelectorAll('#i3 input'));
        setupSection(document.querySelectorAll('#i3 input'), document.querySelectorAll('#i4 input'));
        setupSection(document.querySelectorAll('#i4 input'), document.querySelectorAll('#i5 input'));
        setupSection(document.querySelectorAll('#i5 input'), document.querySelectorAll('#i6 input'));
        setupSection(document.querySelectorAll('#i6 input'), null);
    </script>
</body>

</html>