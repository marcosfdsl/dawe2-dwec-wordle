<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>Document</title>
    <style>
        * {
            caret-color: transparent;
        }
    </style>
</head>

<body class="flex flex-col h-screen justify-center items-center">

        <div>
            <!-- INTENTO i1 -->
            <div id="i1" class="flex justify-center gap-2 w-full">
                <input maxlength="1" id="i1a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i1b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i1c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i1d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i1e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
            <!-- INTENTO i2 -->
            <div id="i2" class="flex justify-center gap-2 mt-4 w-full">
                <input maxlength="1" id="i2a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i2b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i2c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i2d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i2e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
            <!-- INTENTO i3 -->
            <div id="i3" class="flex justify-center gap-2 mt-4 w-full">
                <input maxlength="1" id="i3a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i3b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i3c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i3d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i3e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
            <!-- INTENTO i4 -->
            <div id="i4" class="flex justify-center gap-2 mt-4 w-full">
                <input maxlength="1" id="i4a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i4b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i4c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i4d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i4e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
            <!-- INTENTO i5 -->
            <div id="i5" class="flex justify-center gap-2 mt-4 w-full">
                <input maxlength="1" id="i5a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i5b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i5c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i5d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i5e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
            <!-- INTENTO i6 -->
            <div id="i6" class="flex justify-center gap-2 mt-4 w-full">
                <input maxlength="1" id="i6a" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i6b" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i6c" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i6d" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
                <input maxlength="1" id="i6e" type="text"
                    class="border-solid border-2 rounded-xl h-12 w-12 lg:h-16 lg:w-16 text-2xl lg:text-4xl text-center font-bold" />
            </div>
        </div>

    <script>

        // FUNCIÓN QUE DEVUELVE PALABRA ALEATORIA
        function palabraRandom() {
            // set que almacena palabras de 5 letras
            const words = new Set(["ARRAY", "AVION", "BALON", "ACTOR", "BRAZO", "CRUDO", "ERROR", "FERIA", "GRITO", "HIELO", "ISLAS",
                "JULIO", "MONTE", "NECIO", "MARCO", "ONDAS", "PELOS", "PODER", "RELOJ", "RUBIO", "REDES", "SUCIO", "SERIO", "SELVA",
                "TABLA", "TORSO", "TORPE", "VACAS", "VELAS", "VAGOS", "VUELO", "ZURDO", "ZORRO", "YOGUR", "VALOR", "NOTAS", "MARCA",
                "INDIA", "JERGA", "RUSIA", "GORDO", "GORRO", "FINCA", "DENSO", "DADOS", "COSTO", "CORREA", "CORAL", "CLAVO", "BIZCO", "BACHE"]);
            // (número decimal aleatorio entre 0 y 1) * (tamaño del set) se redondea y se guarda en indiceRandom
            const indiceRandom = Math.floor(Math.random() * words.size);
            // devuelve la palabra que se encuentre en la posición indiceRandom
            return Array.from(words)[indiceRandom];
        }
        // la palabra seleccionada se guarda en palabraCorrecta
        var palabraCorrecta = palabraRandom();

        // FUNCIÓN QUE EVALÚA LAS TECLAS PULSADAS EN CADA INPUT DE INTENTO N
        function intento(inputs, inputsSiguienteIntento) {
            // se recorren las letras del intento actual
            inputs.forEach(function (input, index) {
                // al introducir una letra en input N:
                input.addEventListener('input', function (event) {
                    // se guarda la letra de N en letraN
                    var letraN = this.value;
                    // letraN se convierte a mayúscula
                    this.value = letraN.toUpperCase();
                    // se cambia el focus al siguiente input
                    inputs[index + 1].focus();

                });
                // al pulsar una tecla en input N (para cuando sea Backspace o Enter)
                input.addEventListener('keydown', function (event) {
                    // si se pulsa Backspace
                    if (event.key === 'Backspace') {
                        // si input N ya se encuentra vacío, se cambia el focus al input anterior y se elimina también su contenido
                        if (this.value.length === 0) {
                            inputs[index - 1].focus();
                            inputs[index - 1].value = '';
                        }
                        // si input N no está vacío, se elimina el contenido
                        else {
                            inputs[index].value = '';
                        }
                    }
                    // si se pulsa Enter
                    else if (event.key === 'Enter' || event.key === 'Send') {
                        // se llama a comprobar el return de la función intentoRellenado(), y si devuelve false pide rellenar todos los inputs
                        if (!intentoRellenado(inputs)) {
                            alert("Rellena todos los campos.");
                            return;
                        }
                        // si se han rellenado todos los inputs, se llaman a las funciones cambiarColor() y siguienteIntento()
                        else {
                            cambiarColor(inputs);
                            siguienteIntento(inputs, inputsSiguienteIntento);
                        }
                    }
                });
            });
        }

        // FUNCIÓN QUE COMPRUEBA SI SE HA RELLENADO TODO EL INTENTO, inputs es un querySelectorAll de las letras introducidas en el intento actual
        function intentoRellenado(inputs) {
            // verifica si la longitud de los 5 inputs (las 5 letras) es igual a 1, es decir, si se ha rellenado
            return Array.from(inputs).every(input => input.value.length === 1);
        }

        // FUNCIÓN QUE COMPRUEBA SI SE HA GANADO EL INTENTO, inputs es un querySelectorAll de las letras introducidas en el intento actual
        function haGanadoIntento(inputs) {
            // verifica si los 5 inputs (las 5 letras) coinciden con las de palabraCorrecta
            return Array.from(inputs).every((input, index) => input.value.toUpperCase() === palabraCorrecta.charAt(index));
        }

        // FUNCIÓN QUE DETERMINA SI SE HA GANADO O SE HA PERDIDO EL JUEGO
        function siguienteIntento(inputs, inputsSiguienteIntento) {
            // si se acierta en el intento que sea, sale un mensaje de enhorabuena y se deshabilitan los inputs
            if (haGanadoIntento(inputs)) {
                alert("¡ENHORABUENA!");
                document.querySelectorAll('input').forEach(input => input.disabled = true);
            }
            // si el intento actual no es el último, pasa al siguiente intento (hay 6)
            else if (inputsSiguienteIntento) {
                // automáticamente se cambia el focus al primer input del siguiente intento
                inputsSiguienteIntento[0].focus();
            }
            // si se falla el último intento, sale un mensaje con la palabra correcta y se deshabilitan los inputs
            else {
                alert("HAS PERDIDO :( PALABRA: " + palabraCorrecta);
                document.querySelectorAll('input').forEach(input => input.disabled = true);
            }
        }

        // FUNCIÓN QUE CAMBIA COLOR A VERDE, ROJO O AMARILLO EN FUNCIÓN DE SI SE HA ACERTADO LA LETRA O SE ENCUENTRA EN OTRA POSICIÓN
        function cambiarColor(inputs) {
            // se recorren las letras del intento actual
            inputs.forEach((input, index) => {
                // se guarda la letra de N en letraN
                var letraN = input.value;
                // si letraN coincide con la letra N de palabraCorrecta, cambia color a verde
                if (letraN.toUpperCase() === palabraCorrecta.charAt(index)) {
                    input.classList.add('bg-green-500');
                }
                // si letraN no coincide con la letra N de palabraCorrecta, PERO ESTÁ en otra posición, cambia color a amarillo
                else if (palabraCorrecta.includes(letraN.toUpperCase())) {
                    input.classList.add('bg-yellow-500');
                }
                // si letraN NO coincide con la letra N de palabraCorrecta, NI ESTÁ en otra posición, cambia color a rojo
                else {
                    input.classList.add('bg-red-500');
                }
            });
        }

        // SE LLAMA A LA FUNCIÓN intento() CON INTENTO N (ACTUAL) E INTENTO N+1 (SIGUIENTE) COMO PARÁMETROS
        intento(document.querySelectorAll('#i1 input'), document.querySelectorAll('#i2 input'));
        intento(document.querySelectorAll('#i2 input'), document.querySelectorAll('#i3 input'));
        intento(document.querySelectorAll('#i3 input'), document.querySelectorAll('#i4 input'));
        intento(document.querySelectorAll('#i4 input'), document.querySelectorAll('#i5 input'));
        intento(document.querySelectorAll('#i5 input'), document.querySelectorAll('#i6 input'));
        intento(document.querySelectorAll('#i6 input'), null);
    </script>
</body>

</html>